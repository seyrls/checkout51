{% extends 'base.html.twig' %}

{% block title %}Your Offers{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 100%; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container">
    <h1 class="text-center">Your offers</h1>
    <p class="text-end"><a href="{{ path('get_offers', {'sort': 'offer_id', 'direction': 'ASC', 'output': 'json'}) }}">JSON output?</a></p>

    <table class="table table-striped">
        <caption>List of offers</caption>
        <thead class="table-dark">
            <tr>
                <th scope="col"><a class="text-white" href="{{ path('get_offers', {'sort': 'offer_id', 'direction': 'ASC'}) }}">#</a></th>
                <th scope="col"><a class="text-white" href="{{ path('get_offers', {'sort': 'name', 'direction': 'ASC'}) }}">Name</a></th>
                <th scope="col">Image</th>
                <th scope="col"><a class="text-white" href="{{ path('get_offers', {'sort': 'cash_back', 'direction': 'DESC'}) }}">Cash back</a></th>
            </tr>
        </thead>
        <tbody>
        {% for offer in data %}
            <tr>
                <th scope="row"><a href="{{ path('get_offer', {offer_id: offer.id}) }}">{{offer.id}}</a></th>
                <td>{{offer.name}}</td>
                <td><img src="{{offer.imageUrl}}" class="img-thumbnail"></td>
                <td>{{offer.cashBack|format_currency('CAD')}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}